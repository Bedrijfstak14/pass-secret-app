Perfect, laten we een **complete â€œproject overdracht-samenvattingâ€** opstellen die je later opnieuw kunt aanleveren aan mij (of een collega, of jezelf na een paar maanden ðŸ˜„). Zoâ€™n overzicht bevat alle belangrijke aspecten van je app, zodat ik direct opnieuw alles begrijp en ermee aan de slag kan.

---

## âœ… **Projectoverzicht â€“ *Pass Secret App* (samenvatting voor ChatGPT)**

### ðŸ”’ **1. Doel van de app**

Een eenvoudige maar veilige webapp die het mogelijk maakt om **tijdelijke geheime berichten** te delen via een unieke link. De link werkt maar een beperkt aantal keer of tot een ingestelde vervaltijd, waarna het geheim automatisch verdwijnt.

---

### ðŸ§± **2. Stack & infrastructuur**

| Onderdeel   | Technologie                                       |
| ----------- | ------------------------------------------------- |
| Backend     | Python (Flask)                                    |
| Frontend    | HTML + CSS (Jinja templates, geen JS-frameworks)  |
| Opslag      | SQLite (met SQLAlchemy)                           |
| Encryptie   | AES-GCM (`cryptography`)                          |
| Hosting     | Via Cloudflare Tunnel (`pass.steenbergen.online`) |
| Deployment  | Docker (met Dockerfile)                           |
| Environment | `.env` voor secret keys en instellingen           |

---

### ðŸ—„ï¸ **3. Belangrijke functionaliteit**

| Feature                          | Status |
| -------------------------------- | ------ |
| Geheim aanmaken via form         | âœ…      |
| Geheim versleutelen met AES-GCM  | âœ…      |
| UUID-gebaseerde geheime link     | âœ…      |
| Max aantal weergaven             | âœ…      |
| Vervaltijd in minuten instelbaar | âœ…      |
| Automatische verwijdering        | âœ…      |
| Cleanup-route                    | âœ…      |
| Custom 404-pagina                | âœ…      |
| Beheerpagina `/admin/stats`      | âœ…      |
| Logging van events               | âœ…      |
| Webhook-calls (zonder ID-lek)    | âœ…      |
| Donkere modus (verwijderd)       | âŒ      |
| QR-code (nog toevoegen)          | â³      |

---

### ðŸ” **4. Beveiliging & privacy**

* Encryptie met AES-GCM
* Sleutel opgeslagen in `.env`:

  ```env
  SECRET_KEY=...  # base64-gecodeerde 32 bytes
  ```
* Webhook events gebruiken **hash(secret\_id)** (SHA-256, eerste 12 chars)
* Geen tracking, geen cookies, geen accounts

---

### ðŸ§ª **5. Webhookfunctionaliteit**

```env
WEBHOOK_URL=https://webhook.site/xxxxx
WEBHOOK_ENABLED=true
```

Webhook wordt gestuurd bij:

* `created`
* `viewed`
* `deleted`

Voorbeeldpayload:

```json
{
  "event": "viewed",
  "reference": "9f7b3e2a1c98",
  "timestamp": "2025-07-24T13:23:11Z"
}
```

---

### ðŸ“Š **6. Statistiekenpagina `/admin/stats`**

Beveiligd met HTTP Basic Auth via `.env`:

```env
ADMIN_USERNAME=admin
ADMIN_PASSWORD=strongpassword
```

Toont:

* Aantal geheimen totaal
* Aantal views
* Gemiddelde views/geheim
* Actieve geheimen
* Geheimen per dag (in grafiek en tabel)

---

### ðŸ“‚ **7. Belangrijke bestanden**

| Bestand               | Functie                            |
| --------------------- | ---------------------------------- |
| `app.py`              | Hoofdapp + routes                  |
| `utils.py`            | Encryptie met AES-GCM              |
| `models.py`           | SQLAlchemy-model voor `Secret`     |
| `templates/*.html`    | Frontend zonder JS-framework       |
| `static/style.css.j2` | Dynamische CSS met kleurvariabelen |
| `Dockerfile`          | Dockerconfig                       |
| `.env`                | Beveiligde instellingen            |
| `secrets.db`          | SQLite database (tijdelijk)        |

---

### âš™ï¸ **8. Technische wensen/to-do's (voor later)**

| Idee                                    | Status |
| --------------------------------------- | ------ |
| QR-code toevoegen aan `confirm.html`    | â³      |
| API endpoint voor geheimen maken (REST) | âŒ      |
| CSV-export vanuit adminpagina           | âŒ      |
| Views per dag als extra grafiek         | âŒ      |
| CLI-tool om secrets te uploaden         | âŒ      |
| Per-IP viewlimiet of loginbeveiliging   | âŒ      |

---

### ðŸ§  **9. Wat ChatGPT moet weten als ik later terugkom**

> *"Ik heb een project genaamd 'pass-secret-app', een geheime berichtenwebapp in Flask met AES-versleuteling en tijd-/view-gebaseerde verlooptijd. Gebruik de samenvatting hieronder om verder te bouwen."*

---

Wil je deze samenvatting als **tekstbestand** dat je kunt downloaden of committen in je project (bijv. `project_info.txt`)? Dan genereer ik het voor je.

Laat maar weten!