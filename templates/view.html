<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8">
  <title>Geheim bekijken</title>
  <link rel="stylesheet" href="/static/style.css">
</head>
<body>
  <div class="container">

    {% if expired %}
      <h1>ğŸ”’ Geheim verlopen</h1>
      <p>Dit geheim is niet meer beschikbaar. Mogelijk is het al bekeken of is het verlopen.</p>
      <p><a href="/">Maak een nieuw geheim aan</a></p>

    {% else %}
      <h1> Je geheime boodschap</h1>

      <p><strong>Let op:</strong> Dit geheim is tijdelijk en kan slechts een beperkt aantal keer worden bekeken. Zodra dit limiet is bereikt, wordt het automatisch verwijderd.</p>

      <div class="secret-box">
        <pre id="secret">{{ secret }}</pre>
      </div>

      <button onclick="copySecret()">Kopieer geheim</button>

      {% if expire_at %}
        <p class="meta-info"><em>Verloopt op: {{ expire_at }}</em></p>
      {% endif %}

      <p class="warning"> Sluit deze pagina alleen als je het geheim hebt gekopieerd. Het is daarna mogelijk niet meer beschikbaar.</p>
    {% endif %}

  </div>

  <script>
    function copySecret() {
      const secret = document.getElementById("secret").innerText;
      navigator.clipboard.writeText(secret).then(() => {
        alert("Geheim gekopieerd naar klembord.");
      }).catch(err => {
        alert("KopiÃ«ren mislukt. Probeer handmatig te kopiÃ«ren.");
      });
    }
  </script>
</body>
</html>
